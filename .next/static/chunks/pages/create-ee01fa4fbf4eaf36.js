(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{6954:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return t(8717)}])},8717:function(e,r,t){"use strict";t.r(r);var l=t(5893),n=t(1163),s=t(7294),a=t(1676),o=t(5005),i=t(555),c=t(8981);let u=()=>{let{access_token:e}=(0,i.b)(),r=(0,n.useRouter)(),t=(0,s.useRef)(null),u=(0,s.useRef)(null),d=(0,s.useRef)(null),p=(0,s.useRef)(null),[h,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(null),[j,b]=(0,s.useState)(null),Z=async l=>{l.preventDefault();let n=new FormData;n.append("title",t.current.value),n.append("address",u.current.value),n.append("price",d.current.value),n.append("description",p.current.value),n.append("type",h),n.append("multipartFile",x);try{await c.b.post("/create-post",n,{headers:{Authorization:"Bearer ".concat(e)}}).then(()=>{r.push("/"),b(null)})}catch(s){console.log("err",s.response),b("Something went wrong")}};return(0,l.jsxs)("div",{style:{maxWidth:"30rem",margin:"auto",paddingTop:"3rem",paddingBottom:"10rem"},children:[(0,l.jsx)("h3",{style:{marginBottom:"2rem"},children:"Create post"}),(0,l.jsxs)(a.Z,{onSubmit:Z,children:[(0,l.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,l.jsx)(a.Z.Label,{children:"Title"}),(0,l.jsx)(a.Z.Control,{type:"text",ref:t,placeholder:"Enter title",required:!0})]}),(0,l.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,l.jsx)(a.Z.Label,{children:"Address"}),(0,l.jsx)(a.Z.Control,{type:"text",ref:u,placeholder:"Enter Address",required:!0})]}),(0,l.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,l.jsx)(a.Z.Label,{children:"Type"}),(0,l.jsxs)(a.Z.Select,{"aria-label":"Default select example",value:h,onChange:e=>m(e.target.value),children:[(0,l.jsx)("option",{children:"Open this select menu"}),(0,l.jsx)("option",{value:"room",children:"Room"}),(0,l.jsx)("option",{value:"flat",children:"Flat"}),(0,l.jsx)("option",{value:"building",children:"Building"})]})]}),(0,l.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,l.jsx)(a.Z.Label,{children:"Price"}),(0,l.jsx)(a.Z.Control,{type:"number",ref:d,placeholder:"Enter price",required:!0})]}),(0,l.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,l.jsx)(a.Z.Label,{children:"Description"}),(0,l.jsx)(a.Z.Control,{as:"textarea",type:"text",ref:p,placeholder:"Enter description",style:{height:"150px"},required:!0})]}),(0,l.jsxs)(a.Z.Group,{controlId:"formFile",className:"mb-3",children:[(0,l.jsx)(a.Z.Label,{children:"Image"}),(0,l.jsx)(a.Z.Control,{type:"file",onChange:e=>f(e.target.files[0])})]}),j&&(0,l.jsx)("p",{style:{color:"red",marginBottom:"2rem"},children:j}),(0,l.jsx)(o.Z,{variant:"primary",type:"submit",style:{width:"100%"},children:"Create"})]})]})};r.default=u},8981:function(e,r,t){"use strict";t.d(r,{b:function(){return n}});var l=t(196);localStorage.getItem("access_token");let n=l.ZP.create({baseURL:"http://localhost:8080/api"})}},function(e){e.O(0,[196,282,774,888,179],function(){return e(e.s=6954)}),_N_E=e.O()}]);